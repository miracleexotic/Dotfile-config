- name: "| starship | Get zsh path"
  shell: which zsh
  args:
    executable: /bin/bash
  register: zsh
- name: Print out
  debug:
    var: zsh

- name: "| starship | Install Starship"
  shell: curl -sS https://starship.rs/install.sh | sh -s -- -y
  args:
    chdir: /home/{{ user }}
    executable: "{{ zsh.stdout }}"
  register: result
- name: Print out
  debug:
    var: result

- name: "| starship | Create .config folder"
  file:
    path: /home/{{ user }}/.config
    state: directory
  register: result
- name: Print out
  debug:
    var: result

- name: "| starship | Link starship.toml file"
  shell: ln -sf /home/{{ user }}/Dotfile-config/starship/starship.toml /home/{{ user }}/.config/starship.toml
  args:
    chdir: /home/{{ user }}
  register: result
- name: Print out
  debug:
    var: result
